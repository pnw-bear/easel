@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Serif+Display:wght@400&family=Caveat:wght@600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    background-color: #F5F1E8; /* parchment */
    color: #4B4B4B; /* warm-grey */
    @apply font-sans antialiased;
  }
}

@layer components {
  /* Paper Grain Texture */
  .paper-texture {
    background-image:
      url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
  }

  /* Ink Stroke Divider */
  .ink-divider {
    @apply h-0.5 relative opacity-15;
    background: linear-gradient(90deg, transparent, theme('colors.ink.charcoal') 20%, theme('colors.ink.charcoal') 80%, transparent);
  }

  .ink-divider::after {
    content: '';
    @apply absolute -top-px left-0 right-0 h-1;
    background: url("data:image/svg+xml,%3Csvg width='100' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,2 Q25,1 50,2 T100,2' stroke='%2327272A' stroke-width='0.5' fill='none' opacity='0.3'/%3E%3C/svg%3E") repeat-x;
  }

  /* Watercolor Blob Backgrounds */
  .watercolor-blob-orange {
    background: radial-gradient(ellipse at center, rgba(245, 166, 35, 0.15) 0%, rgba(245, 166, 35, 0.05) 50%, transparent 70%);
  }

  .watercolor-blob-blue {
    background: radial-gradient(ellipse at center, rgba(43, 130, 198, 0.15) 0%, rgba(43, 130, 198, 0.05) 50%, transparent 70%);
  }

  .watercolor-blob-indigo {
    background: radial-gradient(ellipse at center, rgba(52, 73, 166, 0.15) 0%, rgba(52, 73, 166, 0.05) 50%, transparent 70%);
  }

  .watercolor-blob-red {
    background: radial-gradient(ellipse at center, rgba(211, 58, 44, 0.15) 0%, rgba(211, 58, 44, 0.05) 50%, transparent 70%);
  }

  /* Hand-drawn Dashed Border */
  .ink-dashed-border {
    @apply relative bg-white;
  }

  .ink-dashed-border::before {
    content: '';
    @apply absolute inset-0 rounded-2xl pointer-events-none opacity-30;
    padding: 2px;
    background:
      repeating-linear-gradient(0deg, theme('colors.ink.charcoal') 0px, theme('colors.ink.charcoal') 12px, transparent 12px, transparent 24px),
      repeating-linear-gradient(90deg, theme('colors.ink.charcoal') 0px, theme('colors.ink.charcoal') 12px, transparent 12px, transparent 24px),
      repeating-linear-gradient(180deg, theme('colors.ink.charcoal') 0px, theme('colors.ink.charcoal') 12px, transparent 12px, transparent 24px),
      repeating-linear-gradient(270deg, theme('colors.ink.charcoal') 0px, theme('colors.ink.charcoal') 12px, transparent 12px, transparent 24px);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  /* Deckled Edge Effect */
  .deckled-edge {
    @apply relative overflow-hidden;
  }

  .deckled-edge::after {
    content: '';
    @apply absolute -inset-px border border-black/5 rounded pointer-events-none;
  }
}

@layer utilities {
  .text-gradient {
    @apply bg-gradient-to-r from-ink-red via-warm-orange to-cerulean;
    @apply bg-clip-text text-transparent;
  }
}

/* Custom animations */
@keyframes bloom {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.03); }
}

.hover-bloom:hover {
  animation: bloom 0.5s ease-out;
}

@keyframes ink-spread {
  0% { box-shadow: 0 0 0 0 rgba(211, 58, 44, 0.4); }
  70% { box-shadow: 0 0 0 8px rgba(211, 58, 44, 0); }
  100% { box-shadow: 0 0 0 0 rgba(211, 58, 44, 0); }
}

.ink-spread-active {
  animation: ink-spread 1s ease-out;
}

/* Sidebar Ink Pattern */
.sidebar-ink-pattern {
  background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30,0 L30,60' stroke='%2327272A' stroke-width='0.5' opacity='0.04'/%3E%3C/svg%3E");
  background-repeat: repeat;
}
